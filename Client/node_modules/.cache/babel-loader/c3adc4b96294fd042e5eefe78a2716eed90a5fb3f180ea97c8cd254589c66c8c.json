{"ast":null,"code":"import _objectSpread from\"/home/ahmed-bashir/React-projects/chess/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/ahmed-bashir/React-projects/chess/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{Status}from\"../constant\";import actionTypes from\"./actionTypes\";export var reducer=function reducer(state,action){switch(action.type){case actionTypes.NEW_MOVE:{var position=state.position,turn=state.turn;position=[].concat(_toConsumableArray(position),[action.payload.newPosition]);turn=turn===\"w\"?\"b\":\"w\";return _objectSpread(_objectSpread({},state),{},{position:position,turn:turn});}case actionTypes.GENERATE_CANDIDATE_MOVES:{var candidateMoves=action.payload.candidateMoves;return _objectSpread(_objectSpread({},state),{},{candidateMoves:candidateMoves});}case actionTypes.CLEAR_CANDIDATE_MOVES:{return _objectSpread(_objectSpread({},state),{},{candidateMoves:[]});}case actionTypes.PROMOTION_OPEN:{return _objectSpread(_objectSpread({},state),{},{status:Status.promoting,promotionSquare:_objectSpread({},action.payload)});}case actionTypes.PROMOTION_CLOSE:{return _objectSpread(_objectSpread({},state),{},{status:Status.ongoing,promotionSquare:null});}case actionTypes.CAN_CASTLE:{var _turn=state.turn,castleDirection=state.castleDirection;castleDirection[_turn]=action.payload;return _objectSpread(_objectSpread({},state),{},{castleDirection:castleDirection});}case actionTypes.STALEMATE:{return _objectSpread(_objectSpread({},state),{},{status:Status.stalemate});}case actionTypes.INSUFFICIENT_MATERIAL:{return _objectSpread(_objectSpread({},state),{},{status:Status.insufficient});}case actionTypes.WIN:{return _objectSpread(_objectSpread({},state),{},{status:action.payload===\"w\"?Status.white:Status.black});}case actionTypes.NEW_GAME:{return _objectSpread({},action.payload);}default:return state;}};","map":{"version":3,"names":["Status","actionTypes","reducer","state","action","type","NEW_MOVE","position","turn","concat","_toConsumableArray","payload","newPosition","_objectSpread","GENERATE_CANDIDATE_MOVES","candidateMoves","CLEAR_CANDIDATE_MOVES","PROMOTION_OPEN","status","promoting","promotionSquare","PROMOTION_CLOSE","ongoing","CAN_CASTLE","castleDirection","STALEMATE","stalemate","INSUFFICIENT_MATERIAL","insufficient","WIN","white","black","NEW_GAME"],"sources":["/home/ahmed-bashir/React-projects/chess/src/reducer/reducer.js"],"sourcesContent":["import { Status } from \"../constant\";\nimport actionTypes from \"./actionTypes\";\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case actionTypes.NEW_MOVE: {\n      let { position, turn } = state;\n      position = [...position, action.payload.newPosition];\n\n      turn = turn === \"w\" ? \"b\" : \"w\";\n\n      return {\n        ...state,\n        position,\n        turn,\n      };\n    }\n\n    case actionTypes.GENERATE_CANDIDATE_MOVES: {\n      const { candidateMoves } = action.payload;\n      return {\n        ...state,\n        candidateMoves,\n      };\n    }\n\n    case actionTypes.CLEAR_CANDIDATE_MOVES: {\n      return {\n        ...state,\n        candidateMoves: [],\n      };\n    }\n\n    case actionTypes.PROMOTION_OPEN: {\n      return {\n        ...state,\n        status: Status.promoting,\n        promotionSquare: { ...action.payload },\n      };\n    }\n\n    case actionTypes.PROMOTION_CLOSE: {\n      return {\n        ...state,\n        status: Status.ongoing,\n        promotionSquare: null,\n      };\n    }\n\n    case actionTypes.CAN_CASTLE: {\n      let { turn, castleDirection } = state;\n\n      castleDirection[turn] = action.payload;\n\n      return {\n        ...state,\n        castleDirection,\n      };\n    }\n\n    case actionTypes.STALEMATE: {\n      return {\n        ...state,\n        status: Status.stalemate,\n      };\n    }\n\n    case actionTypes.INSUFFICIENT_MATERIAL: {\n      return {\n        ...state,\n        status: Status.insufficient,\n      };\n    }\n\n    case actionTypes.WIN: {\n      return {\n        ...state,\n        status: action.payload === \"w\" ? Status.white : Status.black,\n      };\n    }\n\n    case actionTypes.NEW_GAME: {\n      return {\n        ...action.payload,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n"],"mappings":"iQAAA,OAASA,MAAM,KAAQ,aAAa,CACpC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,IAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACxC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,CAAAJ,WAAW,CAACK,QAAQ,CAAE,CACzB,GAAM,CAAAC,QAAQ,CAAWJ,KAAK,CAAxBI,QAAQ,CAAEC,IAAI,CAAKL,KAAK,CAAdK,IAAI,CACpBD,QAAQ,IAAAE,MAAA,CAAAC,kBAAA,CAAOH,QAAQ,GAAEH,MAAM,CAACO,OAAO,CAACC,WAAW,EAAC,CAEpDJ,IAAI,CAAGA,IAAI,GAAK,GAAG,CAAG,GAAG,CAAG,GAAG,CAE/B,OAAAK,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRI,QAAQ,CAARA,QAAQ,CACRC,IAAI,CAAJA,IAAI,GAER,CAEA,IAAK,CAAAP,WAAW,CAACa,wBAAwB,CAAE,CACzC,GAAQ,CAAAC,cAAc,CAAKX,MAAM,CAACO,OAAO,CAAjCI,cAAc,CACtB,OAAAF,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRY,cAAc,CAAdA,cAAc,GAElB,CAEA,IAAK,CAAAd,WAAW,CAACe,qBAAqB,CAAE,CACtC,OAAAH,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRY,cAAc,CAAE,EAAE,GAEtB,CAEA,IAAK,CAAAd,WAAW,CAACgB,cAAc,CAAE,CAC/B,OAAAJ,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRe,MAAM,CAAElB,MAAM,CAACmB,SAAS,CACxBC,eAAe,CAAAP,aAAA,IAAOT,MAAM,CAACO,OAAO,CAAE,GAE1C,CAEA,IAAK,CAAAV,WAAW,CAACoB,eAAe,CAAE,CAChC,OAAAR,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRe,MAAM,CAAElB,MAAM,CAACsB,OAAO,CACtBF,eAAe,CAAE,IAAI,GAEzB,CAEA,IAAK,CAAAnB,WAAW,CAACsB,UAAU,CAAE,CAC3B,GAAM,CAAAf,KAAI,CAAsBL,KAAK,CAA/BK,IAAI,CAAEgB,eAAe,CAAKrB,KAAK,CAAzBqB,eAAe,CAE3BA,eAAe,CAAChB,KAAI,CAAC,CAAGJ,MAAM,CAACO,OAAO,CAEtC,OAAAE,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRqB,eAAe,CAAfA,eAAe,GAEnB,CAEA,IAAK,CAAAvB,WAAW,CAACwB,SAAS,CAAE,CAC1B,OAAAZ,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRe,MAAM,CAAElB,MAAM,CAAC0B,SAAS,GAE5B,CAEA,IAAK,CAAAzB,WAAW,CAAC0B,qBAAqB,CAAE,CACtC,OAAAd,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRe,MAAM,CAAElB,MAAM,CAAC4B,YAAY,GAE/B,CAEA,IAAK,CAAA3B,WAAW,CAAC4B,GAAG,CAAE,CACpB,OAAAhB,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRe,MAAM,CAAEd,MAAM,CAACO,OAAO,GAAK,GAAG,CAAGX,MAAM,CAAC8B,KAAK,CAAG9B,MAAM,CAAC+B,KAAK,GAEhE,CAEA,IAAK,CAAA9B,WAAW,CAAC+B,QAAQ,CAAE,CACzB,OAAAnB,aAAA,IACKT,MAAM,CAACO,OAAO,EAErB,CAEA,QACE,MAAO,CAAAR,KAAK,CAAC,CAEnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}