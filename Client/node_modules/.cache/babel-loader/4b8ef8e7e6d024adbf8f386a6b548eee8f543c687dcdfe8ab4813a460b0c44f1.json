{"ast":null,"code":"var _jsxFileName = \"/home/ahmed-bashir/React-projects/chess/src/components/Pieces/Piece.js\",\n  _s = $RefreshSig$();\nimport arbiter from \"../../arbiter/arbiter\";\nimport { useAppContext } from \"../../contexts/Context\";\nimport { generateCanditateMoves } from \"../../reducer/actions/move\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Piece = _ref => {\n  _s();\n  let {\n    rank,\n    file,\n    piece\n  } = _ref;\n  const {\n    appState,\n    dispatch\n  } = useAppContext();\n  const {\n    turn,\n    position: currentPosition\n  } = appState;\n  const onDragStart = e => {\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", `${piece},${rank},${file}`);\n    setTimeout(() => {\n      e.target.style.display = \"none\";\n    }, 0);\n    if (turn === piece[0]) {\n      console.log(piece[0]);\n      const candidateMoves = arbiter.getValidMoves({\n        position: currentPosition[currentPosition.length - 1],\n        prevPosition: currentPosition[currentPosition.length - 2],\n        piece,\n        rank,\n        file\n      });\n      console.log(candidateMoves);\n      dispatch(generateCanditateMoves({\n        candidateMoves\n      }));\n    }\n  };\n  const onDragEnd = e => {\n    e.target.style.display = \"block\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `piece ${piece} p-${file}${rank}`,\n    draggable: true,\n    onDragStart: onDragStart,\n    onDragEnd: onDragEnd\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Piece, \"Sp8isE722iafHYnlNiP1TMTdChI=\", false, function () {\n  return [useAppContext];\n});\n_c = Piece;\nexport default Piece;\nvar _c;\n$RefreshReg$(_c, \"Piece\");","map":{"version":3,"names":["arbiter","useAppContext","generateCanditateMoves","jsxDEV","_jsxDEV","Piece","_ref","_s","rank","file","piece","appState","dispatch","turn","position","currentPosition","onDragStart","e","dataTransfer","effectAllowed","setData","setTimeout","target","style","display","console","log","candidateMoves","getValidMoves","length","prevPosition","onDragEnd","className","draggable","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ahmed-bashir/React-projects/chess/src/components/Pieces/Piece.js"],"sourcesContent":["import arbiter from \"../../arbiter/arbiter\";\nimport { useAppContext } from \"../../contexts/Context\";\nimport { generateCanditateMoves } from \"../../reducer/actions/move\";\n\nconst Piece = ({ rank, file, piece }) => {\n  const { appState, dispatch } = useAppContext();\n  const { turn, position: currentPosition } = appState;\n\n  const onDragStart = (e) => {\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", `${piece},${rank},${file}`);\n    setTimeout(() => {\n      e.target.style.display = \"none\";\n    }, 0);\n\n    if (turn === piece[0]) {\n      console.log(piece[0]);\n      const candidateMoves = arbiter.getValidMoves ({\n        position: currentPosition[currentPosition.length - 1],\n        prevPosition: currentPosition[currentPosition.length - 2],\n        piece,\n        rank,\n        file,\n      });\n      console.log(candidateMoves);\n      dispatch(generateCanditateMoves({ candidateMoves }));\n    }\n  };\n  const onDragEnd = (e) => {\n    e.target.style.display = \"block\";\n  };\n\n  return (\n    <div\n      className={`piece ${piece} p-${file}${rank}`}\n      draggable={true}\n      onDragStart={onDragStart}\n      onDragEnd={onDragEnd}\n    />\n  );\n};\n\nexport default Piece;\n"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,uBAAuB;AAC3C,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,sBAAsB,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpE,MAAMC,KAAK,GAAGC,IAAA,IAA2B;EAAAC,EAAA;EAAA,IAA1B;IAAEC,IAAI;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAAJ,IAAA;EAClC,MAAM;IAAEK,QAAQ;IAAEC;EAAS,CAAC,GAAGX,aAAa,EAAE;EAC9C,MAAM;IAAEY,IAAI;IAAEC,QAAQ,EAAEC;EAAgB,CAAC,GAAGJ,QAAQ;EAEpD,MAAMK,WAAW,GAAIC,CAAC,IAAK;IACzBA,CAAC,CAACC,YAAY,CAACC,aAAa,GAAG,MAAM;IACrCF,CAAC,CAACC,YAAY,CAACE,OAAO,CAAC,YAAY,EAAG,GAAEV,KAAM,IAAGF,IAAK,IAAGC,IAAK,EAAC,CAAC;IAChEY,UAAU,CAAC,MAAM;MACfJ,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IACjC,CAAC,EAAE,CAAC,CAAC;IAEL,IAAIX,IAAI,KAAKH,KAAK,CAAC,CAAC,CAAC,EAAE;MACrBe,OAAO,CAACC,GAAG,CAAChB,KAAK,CAAC,CAAC,CAAC,CAAC;MACrB,MAAMiB,cAAc,GAAG3B,OAAO,CAAC4B,aAAa,CAAE;QAC5Cd,QAAQ,EAAEC,eAAe,CAACA,eAAe,CAACc,MAAM,GAAG,CAAC,CAAC;QACrDC,YAAY,EAAEf,eAAe,CAACA,eAAe,CAACc,MAAM,GAAG,CAAC,CAAC;QACzDnB,KAAK;QACLF,IAAI;QACJC;MACF,CAAC,CAAC;MACFgB,OAAO,CAACC,GAAG,CAACC,cAAc,CAAC;MAC3Bf,QAAQ,CAACV,sBAAsB,CAAC;QAAEyB;MAAe,CAAC,CAAC,CAAC;IACtD;EACF,CAAC;EACD,MAAMI,SAAS,GAAId,CAAC,IAAK;IACvBA,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;EAClC,CAAC;EAED,oBACEpB,OAAA;IACE4B,SAAS,EAAG,SAAQtB,KAAM,MAAKD,IAAK,GAAED,IAAK,EAAE;IAC7CyB,SAAS,EAAE,IAAK;IAChBjB,WAAW,EAAEA,WAAY;IACzBe,SAAS,EAAEA;EAAU;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACrB;AAEN,CAAC;AAAC9B,EAAA,CApCIF,KAAK;EAAA,QACsBJ,aAAa;AAAA;AAAAqC,EAAA,GADxCjC,KAAK;AAsCX,eAAeA,KAAK;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}