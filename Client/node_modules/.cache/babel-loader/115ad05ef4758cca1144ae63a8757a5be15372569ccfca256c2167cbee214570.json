{"ast":null,"code":"var _jsxFileName = \"/home/ahmed-bashir/React-projects/chess/src/components/Pieces/Piece.js\",\n  _s = $RefreshSig$();\nimport arbiter from \"../../arbiter/arbiter\";\nimport { useAppContext } from \"../../contexts/Context\";\nimport { generateCandidates } from '../../reducer/actions/move';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Piece = _ref => {\n  _s();\n  let {\n    rank,\n    file,\n    piece\n  } = _ref;\n  const {\n    appState,\n    dispatch\n  } = useAppContext();\n  const {\n    turn,\n    castleDirection,\n    position: currentPosition\n  } = appState;\n  const onDragStart = e => {\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", `${piece},${rank},${file}`);\n    setTimeout(() => {\n      e.target.style.display = 'none';\n    }, 0);\n    if (turn === piece[0]) {\n      const candidateMoves = arbiter.getValidMoves({\n        position: currentPosition[currentPosition.length - 1],\n        prevPosition: currentPosition[currentPosition.length - 2],\n        castleDirection: castleDirection[turn],\n        piece,\n        file,\n        rank\n      });\n      dispatch(generateC < andidates({\n        candidateMoves\n      }));\n    }\n  };\n  const onDragEnd = e => {\n    e.target.style.display = 'block';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `piece ${piece} p-${file}${rank}`,\n    draggable: true,\n    onDragStart: onDragStart,\n    onDragEnd: onDragEnd\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this);\n};\n_s(Piece, \"Sp8isE722iafHYnlNiP1TMTdChI=\", false, function () {\n  return [useAppContext];\n});\n_c = Piece;\nexport default Piece;\nvar _c;\n$RefreshReg$(_c, \"Piece\");","map":{"version":3,"names":["arbiter","useAppContext","generateCandidates","jsxDEV","_jsxDEV","Piece","_ref","_s","rank","file","piece","appState","dispatch","turn","castleDirection","position","currentPosition","onDragStart","e","dataTransfer","effectAllowed","setData","setTimeout","target","style","display","candidateMoves","getValidMoves","length","prevPosition","generateC","andidates","onDragEnd","className","draggable","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ahmed-bashir/React-projects/chess/src/components/Pieces/Piece.js"],"sourcesContent":["import arbiter from \"../../arbiter/arbiter\";\nimport { useAppContext } from \"../../contexts/Context\";\nimport { generateCandidates } from '../../reducer/actions/move';\n\nconst Piece = ({\n  rank,\n  file,\n  piece,\n}) => {\n\n  const { appState, dispatch } = useAppContext();\n  const { turn, castleDirection, position : currentPosition } = appState\n\n  const onDragStart = e => {\n      e.dataTransfer.effectAllowed = \"move\";\n      e.dataTransfer.setData(\"text/plain\",`${piece},${rank},${file}`)\n      setTimeout(() => {\n          e.target.style.display = 'none'\n      },0)\n\n      if (turn === piece[0]){\n          const candidateMoves = \n              arbiter.getValidMoves({\n                  position : currentPosition[currentPosition.length - 1],\n                  prevPosition : currentPosition[currentPosition.length - 2],\n                  castleDirection : castleDirection[turn],\n                  piece,\n                  file,\n                  rank\n              })\n          dispatch(generateC<andidates({candidateMoves}))\n      }\n\n  }\n  const onDragEnd = e => {\n     e.target.style.display = 'block'\n   }\n\n  return (\n      <div \n          className={`piece ${piece} p-${file}${rank}`}\n          draggable={true}   \n          onDragStart={onDragStart} \n          onDragEnd={onDragEnd}\n\n      />)\n}\n\nexport default Piece\n"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,uBAAuB;AAC3C,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,kBAAkB,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,KAAK,GAAGC,IAAA,IAIR;EAAAC,EAAA;EAAA,IAJS;IACbC,IAAI;IACJC,IAAI;IACJC;EACF,CAAC,GAAAJ,IAAA;EAEC,MAAM;IAAEK,QAAQ;IAAEC;EAAS,CAAC,GAAGX,aAAa,EAAE;EAC9C,MAAM;IAAEY,IAAI;IAAEC,eAAe;IAAEC,QAAQ,EAAGC;EAAgB,CAAC,GAAGL,QAAQ;EAEtE,MAAMM,WAAW,GAAGC,CAAC,IAAI;IACrBA,CAAC,CAACC,YAAY,CAACC,aAAa,GAAG,MAAM;IACrCF,CAAC,CAACC,YAAY,CAACE,OAAO,CAAC,YAAY,EAAE,GAAEX,KAAM,IAAGF,IAAK,IAAGC,IAAK,EAAC,CAAC;IAC/Da,UAAU,CAAC,MAAM;MACbJ,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IACnC,CAAC,EAAC,CAAC,CAAC;IAEJ,IAAIZ,IAAI,KAAKH,KAAK,CAAC,CAAC,CAAC,EAAC;MAClB,MAAMgB,cAAc,GAChB1B,OAAO,CAAC2B,aAAa,CAAC;QAClBZ,QAAQ,EAAGC,eAAe,CAACA,eAAe,CAACY,MAAM,GAAG,CAAC,CAAC;QACtDC,YAAY,EAAGb,eAAe,CAACA,eAAe,CAACY,MAAM,GAAG,CAAC,CAAC;QAC1Dd,eAAe,EAAGA,eAAe,CAACD,IAAI,CAAC;QACvCH,KAAK;QACLD,IAAI;QACJD;MACJ,CAAC,CAAC;MACNI,QAAQ,CAACkB,SAAS,GAACC,SAAS,CAAC;QAACL;MAAc,CAAC,CAAC,CAAC;IACnD;EAEJ,CAAC;EACD,MAAMM,SAAS,GAAGd,CAAC,IAAI;IACpBA,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;EAClC,CAAC;EAEF,oBACIrB,OAAA;IACI6B,SAAS,EAAG,SAAQvB,KAAM,MAAKD,IAAK,GAAED,IAAK,EAAE;IAC7C0B,SAAS,EAAE,IAAK;IAChBjB,WAAW,EAAEA,WAAY;IACzBe,SAAS,EAAEA;EAAU;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAEvB;AACR,CAAC;AAAA/B,EAAA,CA1CKF,KAAK;EAAA,QAMsBJ,aAAa;AAAA;AAAAsC,EAAA,GANxClC,KAAK;AA4CX,eAAeA,KAAK;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}