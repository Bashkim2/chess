{"ast":null,"code":"var _jsxFileName = \"/home/ahmed-bashir/React-projects/chess/src/components/Pieces/Piece.js\",\n  _s = $RefreshSig$();\nimport arbiter from \"../../arbiter/arbiter\";\nimport { useAppContext } from \"../../contexts/Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Piece = _ref => {\n  _s();\n  let {\n    rank,\n    file,\n    piece\n  } = _ref;\n  const {\n    appState,\n    dispatch\n  } = useAppContext();\n  const {\n    turn,\n    castleDirection,\n    position: currentPosition\n  } = appState;\n  const onDragStart = e => {\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", `${piece},${rank},${file}`);\n    setTimeout(() => {\n      e.target.style.display = \"none\";\n    }, 0);\n    if (turn === piece[0]) {\n      const candidateMoves = arbiter.getValidMoves({\n        position: currentPosition[currentPosition.length - 1],\n        prevPosition: currentPosition[currentPosition.length - 2],\n        castleDirection: castleDirection[turn],\n        piece,\n        file,\n        rank\n      });\n      dispatch(generateCanditateMoves({\n        candidateMoves\n      }));\n    }\n  };\n  const onDragEnd = e => {\n    e.target.style.display = \"block\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `piece ${piece} p-${file}${rank}`,\n    draggable: true,\n    onDragStart: onDragStart,\n    onDragEnd: onDragEnd\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(Piece, \"Sp8isE722iafHYnlNiP1TMTdChI=\", false, function () {\n  return [useAppContext];\n});\n_c = Piece;\nexport default Piece;\nvar _c;\n$RefreshReg$(_c, \"Piece\");","map":{"version":3,"names":["arbiter","useAppContext","jsxDEV","_jsxDEV","Piece","_ref","_s","rank","file","piece","appState","dispatch","turn","castleDirection","position","currentPosition","onDragStart","e","dataTransfer","effectAllowed","setData","setTimeout","target","style","display","candidateMoves","getValidMoves","length","prevPosition","generateCanditateMoves","onDragEnd","className","draggable","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ahmed-bashir/React-projects/chess/src/components/Pieces/Piece.js"],"sourcesContent":["import arbiter from \"../../arbiter/arbiter\";\nimport { useAppContext } from \"../../contexts/Context\";\n\nconst Piece = ({ rank, file, piece }) => {\n  const { appState, dispatch } = useAppContext();\n  const { turn, castleDirection, position: currentPosition } = appState;\n\n  const onDragStart = (e) => {\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", `${piece},${rank},${file}`);\n    setTimeout(() => {\n      e.target.style.display = \"none\";\n    }, 0);\n\n    if (turn === piece[0]) {\n      const candidateMoves = arbiter.getValidMoves({\n        position: currentPosition[currentPosition.length - 1],\n        prevPosition: currentPosition[currentPosition.length - 2],\n        castleDirection: castleDirection[turn],\n        piece,\n        file,\n        rank,\n      });\n      dispatch(generateCanditateMoves({ candidateMoves }));\n    }\n  };\n  const onDragEnd = (e) => {\n    e.target.style.display = \"block\";\n  };\n\n  return (\n    <div\n      className={`piece ${piece} p-${file}${rank}`}\n      draggable={true}\n      onDragStart={onDragStart}\n      onDragEnd={onDragEnd}\n    />\n  );\n};\n\nexport default Piece;\n"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,uBAAuB;AAC3C,SAASC,aAAa,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,MAAMC,KAAK,GAAGC,IAAA,IAA2B;EAAAC,EAAA;EAAA,IAA1B;IAAEC,IAAI;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAAJ,IAAA;EAClC,MAAM;IAAEK,QAAQ;IAAEC;EAAS,CAAC,GAAGV,aAAa,EAAE;EAC9C,MAAM;IAAEW,IAAI;IAAEC,eAAe;IAAEC,QAAQ,EAAEC;EAAgB,CAAC,GAAGL,QAAQ;EAErE,MAAMM,WAAW,GAAIC,CAAC,IAAK;IACzBA,CAAC,CAACC,YAAY,CAACC,aAAa,GAAG,MAAM;IACrCF,CAAC,CAACC,YAAY,CAACE,OAAO,CAAC,YAAY,EAAG,GAAEX,KAAM,IAAGF,IAAK,IAAGC,IAAK,EAAC,CAAC;IAChEa,UAAU,CAAC,MAAM;MACfJ,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IACjC,CAAC,EAAE,CAAC,CAAC;IAEL,IAAIZ,IAAI,KAAKH,KAAK,CAAC,CAAC,CAAC,EAAE;MACrB,MAAMgB,cAAc,GAAGzB,OAAO,CAAC0B,aAAa,CAAC;QAC3CZ,QAAQ,EAAEC,eAAe,CAACA,eAAe,CAACY,MAAM,GAAG,CAAC,CAAC;QACrDC,YAAY,EAAEb,eAAe,CAACA,eAAe,CAACY,MAAM,GAAG,CAAC,CAAC;QACzDd,eAAe,EAAEA,eAAe,CAACD,IAAI,CAAC;QACtCH,KAAK;QACLD,IAAI;QACJD;MACF,CAAC,CAAC;MACFI,QAAQ,CAACkB,sBAAsB,CAAC;QAAEJ;MAAe,CAAC,CAAC,CAAC;IACtD;EACF,CAAC;EACD,MAAMK,SAAS,GAAIb,CAAC,IAAK;IACvBA,CAAC,CAACK,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;EAClC,CAAC;EAED,oBACErB,OAAA;IACE4B,SAAS,EAAG,SAAQtB,KAAM,MAAKD,IAAK,GAAED,IAAK,EAAE;IAC7CyB,SAAS,EAAE,IAAK;IAChBhB,WAAW,EAAEA,WAAY;IACzBc,SAAS,EAAEA;EAAU;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACrB;AAEN,CAAC;AAAC9B,EAAA,CAnCIF,KAAK;EAAA,QACsBH,aAAa;AAAA;AAAAoC,EAAA,GADxCjC,KAAK;AAqCX,eAAeA,KAAK;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}